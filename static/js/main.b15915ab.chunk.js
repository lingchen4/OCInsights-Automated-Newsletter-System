(this["webpackJsonpocbang-test"]=this["webpackJsonpocbang-test"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},242:function(e,t){},257:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(49),o=n.n(a),l=(n(114),n(5)),r=(n(115),n(0));var s=function(e){var t=e.viewEmailTemplate,n=e.setViewEmailTemplate;return Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"upload-btn",htmlFor:"talent",onClick:function(){return n(!t)},children:"Email Tempate"})})},j={"Job Name":{prop:"job_name",type:String},Location:{prop:"location",type:String},Company:{prop:"company",type:String},TechStack:{prop:"techstack",type:String},Seniority:{prop:"seniority",type:String},IOM:{prop:"iom",type:String},JobURL:{prop:"url",type:String}},p=n(258);var b=function(e){var t=e.setJd,n={};return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"upload-btn",htmlFor:"job_description",children:"JD Import"}),Object(r.jsx)("input",{className:"upload-input",type:"file",id:"job_description",accept:".csv,.xlsx,.xls",onChange:function(e){var i=e.target.files[0];Object(p.a)(i,{schema:j}).then((function(e){e.rows.forEach((function(e){n[e.location]?n[e.location][e.seniority]?n[e.location][e.seniority][e.iom]?n[e.location][e.seniority][e.iom].push(e):n[e.location][e.seniority][e.iom]=[e]:(n[e.location][e.seniority]={},n[e.location][e.seniority][e.iom]=[e]):(n[e.location]={},n[e.location][e.seniority]={},n[e.location][e.seniority][e.iom]=[e])})),t(n)}))}})]})},u={Talent_Name:{prop:"name",type:String},Location:{prop:"location",type:String},Seniority:{prop:"seniority",type:String},TechStack:{prop:"techstack",type:String},IOM:{prop:"iom",type:String},Email:{prop:"email",type:String},LinkedInURL:{prop:"linkedin",type:String}};var m=function(e){var t=e.setTalents;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"upload-btn",htmlFor:"talent",children:"Talent Import"}),Object(r.jsx)("input",{className:"upload-input",id:"talent",type:"file",accept:".csv,.xlsx,.xls",onChange:function(e){var n=e.target.files[0];Object(p.a)(n,{schema:u}).then((function(e){return t(e.rows)}))}})]})};var d=function(e){var t=e.talents,n=e.jd,i=e.setResults,c=function(e){return e.toLowerCase().replace(" ","")};return Object(r.jsx)("div",{className:"upload-btn",onClick:function(){return function(){var e=[];0!==t.length&&0!==n.length?(t.forEach((function(t,i){var a=n[t.location][t.seniority][t.iom].filter((function(e){return c(t.techstack).includes(c(e.techstack))||c(e.techstack).includes(c(t.techstack))})),o={name:t.name,email:t.email,location:t.location,techstack:t.techstack,iom:t.iom,job1:a[0]||"",job2:a[1]||"",job3:a[2]||"",job4:a[3]||"",job5:a[4]||"",linkedin:t.linkedin};e.push(o)})),i(e)):alert("Please import data")}()},children:"Load Data"})};var h=function(e){for(var t,n=e.results,c=e.setSample,a=e.setShowSample,o=e.showSample,s=Object(i.useState)([]),j=Object(l.a)(s,2),p=j[0],b=j[1],u=Object(i.useState)(0),m=Object(l.a)(u,2),d=m[0],h=m[1],O=n.length/10,f=[],v=function(e){var t=d+e;t>-1&&t<O&&h(t)},x=1;x<O+1;x++)f.push(x);return Object(i.useEffect)((function(){b(n.slice(10*d,10*d+10))}),[n,d]),n.length>0?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container-table",children:[Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[null===(t=Object.keys(n[0]))||void 0===t?void 0:t.map((function(e){return Object(r.jsx)("th",{children:e},e)})),Object(r.jsx)("th",{children:"Preview"})]})}),Object(r.jsx)("tbody",{children:p.map((function(e){return Object(r.jsxs)("tr",{children:[Object.values(e).map((function(e,t){return Object(r.jsx)("td",{children:"object"===typeof e||(null===e||void 0===e?void 0:e.includes("http"))?Object(r.jsx)("a",{href:"object"===typeof e?e.url:e,target:"_blank",rel:"noreferrer",children:"link"}):e},e+t)})),""!==e.job1?Object(r.jsx)("td",{children:Object(r.jsx)("button",{onClick:function(){return function(e){c(e),a(!o)}(e)},children:"Preview"})}):Object(r.jsx)("td",{children:"N/A"})]},e.name)}))})]}),Object(r.jsx)("div",{className:"container-pagination",children:Object(r.jsxs)("ul",{className:"pagination",children:[Object(r.jsx)("li",{onClick:function(){return v(-1)},children:"< Pre"}),f.map((function(e){return Object(r.jsx)("li",{onClick:function(){return h(e-1)},style:{fontWeight:e-1===d?"bold":"normal"},children:e},e+"i")})),Object(r.jsx)("li",{onClick:function(){return v(1)},children:"Next > "})]})})]})}):"DATA not avaliable"},O=n(106),f=n(15),v=(n(217),n(108));function x(e){var t=e.setTemplate,n=e.viewEmailTemplate,c=e.setViewEmailTemplate,a=Object(i.useState)((function(){return f.EditorState.createWithContent(f.ContentState.createFromBlockArray(Object(f.convertFromHTML)("\n  <p>Hi [ First Name ],</p>\n  <p></p>\n  <p>This is Kirby who has connected with you on LinkedIn several days ago. I would like to share the open opportunities that could be a good match for you.  Meanwhile, I\u2019d love to send the job openings that could be a good fit along with our insights to you every week. Hope the information could help you more with your career choice. </p>\n  <p></p>\n  <ol>\n    <li>[Title]   [Company]   [Location]    [URL]</li>\n    <li>[Title]   [Company]   [Location]    [URL]</li>\n    <li>[Title]   [Company]   [Location]    [URL]</li>\n    <li>[Title]   [Company]   [Location]    [URL]</li>\n    <li>[Title]   [Company]   [Location]    [URL]</li>\n  </ol>\n  \n  <p></p>\n  <p>Best,</p>\n  <p>Kirby</p>\n")))})),o=Object(l.a)(a,2),s=o[0],j=o[1];return Object(i.useEffect)((function(){t(Object(v.a)(s.getCurrentContent()))}),[s,t]),n?Object(r.jsxs)("div",{className:"richtext-container",children:[Object(r.jsx)("div",{className:"modal"}),Object(r.jsxs)("div",{className:"modal-container",children:[Object(r.jsx)("button",{className:"template-close",onClick:function(){return c(!n)},children:"X"}),Object(r.jsx)(O.Editor,{editorState:s,onEditorStateChange:j})]})]}):""}var y=n(107),S=n.n(y);var g=function(e){var t=e.template,n=e.sample,c=e.showSample,a=e.setShowSample,o=Object(i.useState)(""),s=Object(l.a)(o,2),j=s[0],p=s[1];return Object(i.useEffect)((function(){var e=n.name,i=n.job1,c=n.job2,a=n.job3,o=n.job4,l=n.job5,r=null===e||void 0===e?void 0:e.split(" ")[0],s=[i,c,a,o,l].filter(Boolean);s.length;for(var j=t.replace("[ First Name ]",r),b=0;b<5-s.length;b++)j=j.replace(/(<li>).+(<\/li>)/,"");s.forEach((function(e){j=(j=(j=(j=j.replace("Title",e.job_name)).replace("Company",e.company)).replace("Location",e.location)).replace("URL",'<a href="'.concat(e.url,'" target="_blank">link</a>'))})),p(j)}),[n,t]),c?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal"}),Object(r.jsxs)("div",{className:"modal-container text-left",children:[Object(r.jsx)("button",{className:"template-close",onClick:function(){return a(!c)},children:"X"}),Object(r.jsx)("div",{className:"sample-container",children:S()(j)})]})]}):""};function k(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)([]),o=Object(l.a)(a,2),j=o[0],p=o[1],u=Object(i.useState)([]),O=Object(l.a)(u,2),f=O[0],v=O[1],y=Object(i.useState)(!1),S=Object(l.a)(y,2),k=S[0],w=S[1],N=Object(i.useState)(""),T=Object(l.a)(N,2),C=T[0],L=T[1],E=Object(i.useState)({}),I=Object(l.a)(E,2),R=I[0],U=I[1],F=Object(i.useState)(!1),J=Object(l.a)(F,2),_=J[0],A=J[1];return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"OCInsights Automated Newsletter System"}),Object(r.jsxs)("div",{className:"container-btn",children:[Object(r.jsx)(m,{setTalents:c}),Object(r.jsx)(b,{setJd:p}),Object(r.jsx)(d,{talents:n,jd:j,setResults:v}),Object(r.jsx)(s,{viewEmailTemplate:k,setViewEmailTemplate:w})]}),Object(r.jsx)(h,{results:f,setSample:U,showSample:_,setShowSample:A}),Object(r.jsx)(x,{setTemplate:L,viewEmailTemplate:k,setViewEmailTemplate:w}),Object(r.jsx)(g,{template:C,sample:R,showSample:_,setShowSample:A})]})}var w=c.a.memo(k);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.b15915ab.chunk.js.map